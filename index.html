<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker Registry - Images Disponibles</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 50px;
        }
        .copy-btn {
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2 class="text-center">ðŸ“¦ Docker Registry - Images Disponibles</h2>
        <table class="table table-bordered mt-4">
            <thead class="table-dark">
                <tr>
                    <th>Nom de l'image</th>
                    <th>Tag</th>
                    <th>Commande Pull</th>
                </tr>
            </thead>
            <tbody id="imageTable">
                <!-- Les images seront affichÃ©es ici dynamiquement -->
            </tbody>
        </table>
    </div>

    <script>
        // Exemple de donnÃ©es (Remplace par un fetch API si nÃ©cessaire)
        const images = [
            { name: "nginx", tag: "latest" },
            { name: "wordpress", tag: "latest" },
            { name: "mysql", tag: "8.0" }
        ];

        const registryUrl = "ghcr.io/registry-jean";

        const imageTable = document.getElementById("imageTable");

        images.forEach(img => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${img.name}</td>
                <td>${img.tag}</td>
                <td>
                    <code>docker pull ${registryUrl}/${img.name}:${img.tag}</code>
                    <button class="btn btn-sm btn-primary copy-btn" data-command="docker pull ${registryUrl}/${img.name}:${img.tag}">ðŸ“‹ Copier</button>
                </td>
            `;
            imageTable.appendChild(row);
        });

        // Fonction pour copier la commande docker pull
        document.addEventListener("click", function(event) {
            if (event.target.classList.contains("copy-btn")) {
                const command = event.target.getAttribute("data-command");
                navigator.clipboard.writeText(command).then(() => {
                    alert("Commande copiÃ©e : " + command);
                });
            }
        });
    </script>

</body>
</html>